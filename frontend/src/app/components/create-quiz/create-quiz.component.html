<div class="create-quiz-container">
  <div class="quiz-layout">
    <div class="quiz-form">
      <form (ngSubmit)="onSubmit()">
        <input
          type="text"
          [(ngModel)]="quiz.title"
          name="quizTitle"
          placeholder="Quiz Title"
          (input)="validateForm()"
          required
        >
        
        <input
          type="number"
          [(ngModel)]="quiz.duration"
          name="duration"
          placeholder="Time Limit (minutes)"
          (input)="validateForm()"
          min="1"
          required
        >
        
        <!-- Question Form -->
        <div *ngIf="currentQuestionIndex !== null && quiz.questions" class="question-container">
          <div class="question-header">
            <span>Question {{ currentQuestionIndex + 1 }}</span>
            <button
              type="button"
              class="delete-btn"
              (click)="removeQuestion(currentQuestionIndex)"
            >
              âœ•
            </button>
          </div>
          
          <input
            type="text"
            [(ngModel)]="quiz.questions[currentQuestionIndex].questionText"
            name="questionText"
            placeholder="Question"
            (input)="validateForm()"
            required
          >
          
          <input
            type="text"
            [(ngModel)]="quiz.questions[currentQuestionIndex].option1"
            name="option1"
            placeholder="Option 1"
            (input)="validateForm()"
            required
          >
          
          <input
            type="text"
            [(ngModel)]="quiz.questions[currentQuestionIndex].option2"
            name="option2"
            placeholder="Option 2"
            (input)="validateForm()"
            required
          >
          
          <input
            type="text"
            [(ngModel)]="quiz.questions[currentQuestionIndex].option3"
            name="option3"
            placeholder="Option 3"
            (input)="validateForm()"
            required
          >
          
          <input
            type="text"
            [(ngModel)]="quiz.questions[currentQuestionIndex].option4"
            name="option4"
            placeholder="Option 4"
            (input)="validateForm()"
            required
          >
          
          <select
            [(ngModel)]="quiz.questions[currentQuestionIndex].correctOption"
            name="correctOption"
            (change)="validateForm()"
            required
          >
            <option value="1">Option 1</option>
            <option value="2">Option 2</option>
            <option value="3">Option 3</option>
            <option value="4">Option 4</option>
          </select>
        </div>
        
        <button
          type="button"
          (click)="addQuestion()"
          [disabled]="!isFormValid"
        >
          Add Question
        </button>
        
        <button
          type="submit"
          [disabled]="!isFormValid || !quiz.questions || quiz.questions.length === 0"
        >
          Create Quiz
        </button>
      </form>
    </div>
    
    <div class="quiz-list" *ngIf="quiz.title && quiz.questions && quiz.questions.length > 0">
      <h2>{{ quiz.title }}</h2>
      <div
        *ngFor="let question of quiz.questions; let i = index"
        class="question-list-item"
        (click)="editQuestion(i)"
      >
        <span class="question-number">Q{{ i + 1 }}</span>
        <span class="question-text">{{ question.questionText }}</span>
      </div>
    </div>
  </div>
</div>